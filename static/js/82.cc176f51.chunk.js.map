{"version":3,"sources":["TreeView/customHooks/useTreeInitialSelectionState.js"],"names":["useTreeInitialSelectionState","allTreeItems","items","useState","selectionHash","setSelectionHash","useEffect","initialState","selectedItems","Array","isArray","length","reduce","acc","item","id","parent","evalParent","hash","parentId","parents"],"mappings":"wMAUO,MAAMA,EAA+B,CAC1CC,EACAC,EAAQ,MACJ,MAAD,EACuCC,mBAAS,IADhD,mBACIC,EADJ,KACmBC,EADnB,KA0BH,OAvBAC,oBAAU,KACR,IAAIC,EAAe,GACnB,MAAMC,EAAgBC,MAAMC,QAAQR,GAASA,EAAQ,CAACA,GAClDM,EAAcG,SAChBJ,EAAeC,EAAcI,OAC3B,CAACC,EAAKC,KACJD,EAAIX,MAAJ,2BAAiBW,EAAIX,OAArB,IAA4B,CAACY,EAAKC,KAAK,IACnCD,EAAKE,SAAWH,EAAIX,MAAMY,EAAKE,QAC1BC,qBAAW,CAChBC,KAAMjB,EACNO,gBACAK,MACAM,SAAUL,EAAKE,SAGZH,GAET,CAAEX,MAAO,GAAIkB,QAAS,MAG1Bf,EAAiBE,EAAaL,QAC7B,CAACD,EAAcC,IAEXE","file":"static/js/82.cc176f51.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { evalParent } from '../../utils/tree.util';\n\n/**\n * Sets the initial selection state\n *\n * @param {object} allTreeItems hash object with all tree elements\n * @param {Array} items The initially selected items. Could be an array for multiSelect or a single object\n * @returns {object} The selections hash object, each key (id) representing a selected tree element\n */\nexport const useTreeInitialSelectionState = (\n  allTreeItems,\n  items = [],\n) => {\n  const [selectionHash, setSelectionHash] = useState({});\n\n  useEffect(() => {\n    let initialState = {};\n    const selectedItems = Array.isArray(items) ? items : [items];\n    if (selectedItems.length) {\n      initialState = selectedItems.reduce(\n        (acc, item) => {\n          acc.items = { ...acc.items, [item.id]: true };\n          if (item.parent && !acc.items[item.parent]) {\n            return evalParent({\n              hash: allTreeItems,\n              selectedItems,\n              acc,\n              parentId: item.parent,\n            });\n          }\n          return acc;\n        },\n        { items: [], parents: [] },\n      );\n    }\n    setSelectionHash(initialState.items);\n  }, [allTreeItems, items]);\n\n  return selectionHash;\n};\n"],"sourceRoot":""}